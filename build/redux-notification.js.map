{"version":3,"file":"redux-notification.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/utils/gen-id.js","../src/store/reducers/index.js","../src/store/selectors/index.js","../src/components/Notification/Notification.js","../src/store/actions/actionTypes.js","../src/store/actions/notifications.js","../src/components/Notifications/Notifications.js","../src/store/reducers/notificationsReducer.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","const genID = () => {\n    let firstPart = (Math.random() * 46656) | 0;\n    let secondPart = (Math.random() * 46656) | 0;\n    firstPart = (\"000\" + firstPart.toString(36)).slice(-3);\n    secondPart = (\"000\" + secondPart.toString(36)).slice(-3);\n    return firstPart + secondPart;\n};\n\nexport default genID;","import genID from \"../../utils/gen-id\";\n\nexport const NOTIFICATIONS = 'NOTIFICATIONS';\n\nexport const addNotificationFromAction = (state, {notification}) => [...state, {\n    id: genID(8),\n    ...notification\n}];\n\nexport const createNotification = (state, notification) => [...state, {\n    id: genID(8),\n    ...notification\n}];","import {NOTIFICATIONS} from \"../reducers\";\n\nexport const getNotifications = state => state[NOTIFICATIONS];","import React, {Component} from 'react';\n\nimport classes from './Notification.scss';\n\nconst styles = {\n    'default': classes.Default,\n    'success': classes.Success\n};\n\nclass Notification extends Component {\n\n    static defaultProps = {\n        timeout: 10\n    };\n\n    state = {\n        progress: 100\n    };\n\n    componentDidMount() {\n        const frameTime = 1 / 30;\n        const reduction = this.state.progress / this.props.timeout;\n        const frame = reduction * frameTime;\n        this.interval = setInterval(() => {\n            this.setState(({progress}) => (\n                {progress: progress - frame}\n            ), () => {\n                if (this.state.progress > 0) return;\n                clearInterval(this.interval);\n                this.handleRemoval();\n            });\n        }, frameTime * 1000);\n    }\n\n    handleCloseButton = () => {\n        this.setState({progress: 0});\n    };\n\n    handleRemoval = () => {\n        setTimeout(() => this.props.remove(this.props.id), 800);\n    };\n\n    render() {\n        return (\n            <div\n                className={[\n                    classes.Notification,\n                    styles[this.props.type] || styles.success,\n                    'animated',\n                    this.state.progress > 0 ? 'bounceInLeft' : 'bounceOutLeft'\n                ].join(' ')}>\n                <button type=\"button\" className=\"btn\" onClick={this.handleCloseButton}>\n                    <i className=\"fa fa-times fa-fw\"/>\n                </button>\n                <div className={classes.Content}>\n                    {this.props.text}\n                </div>\n                <div style={{width: `${this.state.progress}%`}} className={classes.ProgressBar}/>\n            </div>\n        )\n    }\n\n    componentWillUnmount() {\n        clearInterval(this.interval);\n    }\n}\n\nexport default Notification;","export const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\nexport const REMOVE_NOTIFICATION = 'REMOVE_NOTIFICATION';","import * as actionTypes from './actionTypes';\n\nexport const addNotification = ({displayType, text, timeout}) => {\n    return {\n        type: actionTypes.ADD_NOTIFICATION,\n        text,\n        displayType,\n        timeout\n    };\n};\n\nexport const removeNotification = id => {\n    return {\n        type: actionTypes.REMOVE_NOTIFICATION,\n        id\n    };\n};\n","import React, {Component} from 'react';\nimport {connect} from \"react-redux\";\n\nimport classes from './Notifications.scss';\nimport {getNotifications} from \"../../store/selectors\";\nimport Notification from \"../Notification/Notification\";\nimport * as actions from '../../store/actions';\n\nclass Notifications extends Component {\n\n    render() {\n        return (\n            <div className={classes.Notifications}>\n                {this.props.notifications.map(notification => (\n                    <Notification key={notification.id} {...notification} remove={this.props.remove}/>\n                ))}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    notifications: getNotifications(state)\n});\n\nexport default connect(mapStateToProps, {\n    remove: actions.removeNotification\n})(Notifications);","import * as actionTypes from '../actions/actionTypes';\nimport genID from \"../../utils/gen-id\";\n\nconst initialState = [];\n\nconst reducer = (userReducer) => (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.ADD_NOTIFICATION: return addNotification(state, action);\n        case actionTypes.REMOVE_NOTIFICATION: return removeNotification(state, action);\n        default: return userReducer ? userReducer(state, action) : state;\n    }\n};\n\nconst addNotification = (state, {text, displayType, timeout}) => [...state, {\n    id: genID(8),\n    text,\n    displayType,\n    timeout\n}];\n\nconst removeNotification = (state, {id}) => state.filter((notif) => notif.id !== id);\n\nexport default reducer;\n","import Notifications from './components/Notifications/Notifications';\nimport * as actions from './store/actions';\nimport * as actionTypes from './store/actions/actionTypes';\nimport notificationsReducer from './store/reducers/notificationsReducer';\nimport * as selectors from './store/selectors';\nimport * as reducerFns from './store/reducers';\n\nexport default {Notifications, ...actions, ...actionTypes, notificationsReducer, ...selectors, ...reducerFns};\n"],"names":["genID","firstPart","Math","random","secondPart","toString","slice","NOTIFICATIONS","addNotificationFromAction","state","notification","createNotification","getNotifications","styles","classes","Default","Success","Notification","handleCloseButton","setState","progress","handleRemoval","props","remove","id","frameTime","reduction","timeout","frame","interval","setInterval","React","type","success","join","Content","text","width","ProgressBar","Component","defaultProps","ADD_NOTIFICATION","REMOVE_NOTIFICATION","addNotification","displayType","actionTypes","removeNotification","Notifications","notifications","map","mapStateToProps","connect","actions","initialState","reducer","userReducer","action","filter","notif","notificationsReducer","selectors","reducerFns"],"mappings":"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"}